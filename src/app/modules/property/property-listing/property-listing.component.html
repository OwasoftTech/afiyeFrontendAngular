<div id="listing" class="body_content us">
    <!-- Listing Grid View -->
    <section id="feature-property" class="our-listing-list-v4 bgc-f7">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="listing_sidebar dn db-991">
                        <div class="sidebar_content_details style3">
                            <!-- <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a> -->
                            <app-shared-filter (eventEmitter)="eventEmitter($event)"></app-shared-filter>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <div class="listing_sidebar dn-991">
                        <div class="sidebar_content_details is-full-width style2">
                            <!-- <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a> -->
                            <app-shared-filter (eventEmitter)="eventEmitter($event)"></app-shared-filter>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="sidebar_switch mobile_style dn db-991 mt30 mb0">
                        <div id="main2">
                            <span id="open2" class="flaticon-filter-results-button filter_open_btn"> Show Filter</span>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 p0">
                    <div class="half_map_area_content">
                        <div class="row">
                            <div class="grid_list_search_result mt30">
                                <div class="col-sm-12 col-md-4 col-lg-7">
                                    <div class="left_area tac-xsd">
                                        <p>{{total}} Search results</p>
                                    </div>
                                </div>
                                <div class="col-sm-12 col-md-8 col-lg-5 pl0 pr0">
                                    <div class="half_map_advsrch_navg style3 text-right tac-xsd">
                                        <ul class="mb0 mt10 mb10-767">
                                            <li class="list-inline-item"><a class="hvr-text-thm"
                                                    href="javascript:void(0);"><span class="fa fa-th-large"></span></a>
                                            </li>
                                            <li class="list-inline-item"><a class="hvr-text-thm"
                                                    href="javascript:void(0);"><span class="fa fa-th-list"></span></a>
                                            </li>
                                            <li class="list-inline-item"><a class="hvr-text-thm"
                                                    href="javascript:void(0);"><span class="flaticon-more"></span></a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <ng-container *ngFor="let item of rows">
                                <div class="col-sm-6 col-lg-6 col-xl-12">
                                    <div class="feat_property home7 style4" (click)="goToProperty(item.id)">
                                        <div class="thumb">
                                            <div class="fp_single_item_slider feature-img-slider">
                                                <ng-container *ngIf="item?.media.length > 0">
                                                    <!-- <ng-container *ngFor="let img of item?.media"> -->
                                                        <div class="item">
                                                            <img class="img-whp"
                                                                [src]="preview(item?.media)"
                                                                alt="fp1.jpg">
                                                        </div>
                                                    <!-- </ng-container> -->
                                                </ng-container>

                                                <ng-container *ngIf="item?.media.length == 0">
                                                    <div class="item">
                                                        <img class="img-whp" src="assets/images/defaultd.jpeg"
                                                            alt="fp1.jpg">
                                                    </div>
                                                </ng-container>
                                            </div>
                                            <div class="thmb_cntnt style2">
                                                <div class="property-type-ft" style="right: 0px;">{{item?.type_name}}</div>
                                                <ul class="tag mb0">
                                                    <li class="list-inline-item  w-p"><a
                                                            routerLink="/pages/property/{{item?.id}}"
                                                            href="javascript:void(0);">{{item?.price | currency: 'GHâ‚µ' : 'symbol' : '1.0-0'}}</a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="thmb_cntnt style3">
                                                <ul class="icon mb0">
                                                    <li class="list-inline-item" *ngIf="!item.is_favorite"><a
                                                            (click)="markFavorite(item)"
                                                            href="javascript:void(0);"><span
                                                                class="flaticon-heart"></span></a></li>

                                                    <li class="list-inline-item" *ngIf="item.is_favorite == 1"><a
                                                            (click)="markUnFavorite(item)"
                                                            href="javascript:void(0);"><span
                                                                class="fa fa-heart"></span></a></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="details">
                                            <div class="tc_content">
                                                <h4><a routerLink="/pages/property/{{item?.id}}"
                                                        href="javascript:void(0);">{{item?.name}}
                                                    </a></h4>
                                                <p><span class="flaticon-placeholder"></span> {{item?.address}}</p>
                                                <ul class="prop_details mb0">
                                                    <li class="list-inline-item"><a href="javascript:void(0);">Beds:
                                                            {{item?.no_of_bed_room}}</a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="javascript:void(0);">Baths:
                                                            {{item?.no_of_bath_room}}</a>
                                                    </li>
                                                    <li class="list-inline-item"><a href="javascript:void(0);">Sq Ft:
                                                            {{item?.property_area}}</a></li>
                                                    <li class="list-inline-item"><a href="javascript:void(0);">Year:
                                                        {{item?.year_built}}</a></li>
                                                    <li class="list-inline-item float-right"><a
                                                            href="javascript:void(0);" class="view-map"
                                                            (click)="onViewMap(item)">view on
                                                            Map</a></li>
                                                </ul>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </ng-container>


                            <div class="col-lg-12 mb30">
                                <div class="mbp_pagination">
                                    <pagination class="custom-pagination" [boundaryLinks]="false"
                                        [customPreviousTemplate]="prevTemplate" [customNextTemplate]="nextTemplate"
                                        [maxSize]="5" [rotate]="rotate" (pageChanged)="pageChanged($event)"
                                        [totalItems]="total" [itemsPerPage]="limit"
                                        [ngModelOptions]="{standalone: true}" [(ngModel)]="activePage">
                                    </pagination>
                                    <ng-template #prevTemplate let-disabled="disabled" let-currentPage="currentPage">
                                        <ng-container *ngIf="!disabled">
                                            <a href="javascript:void(0);" tabindex="-1" aria-disabled="true">
                                                <span class="flaticon-left-arrow"></span></a>
                                        </ng-container>
                                        <ng-container *ngIf="disabled">
                                            <a href="javascript:void(0);" tabindex="-1" aria-disabled="true">
                                                <span class="flaticon-left-arrow"></span></a>
                                        </ng-container>
                                    </ng-template>

                                    <ng-template #nextTemplate let-disabled="disabled" let-currentPage="currentPage">
                                        <ng-container *ngIf="!disabled">
                                            <a href="javascript:void(0);"><span class="flaticon-right-arrow"></span></a>
                                        </ng-container>
                                        <ng-container *ngIf="disabled">
                                            <a href="javascript:void(0);"><span class="flaticon-right-arrow"></span></a>
                                        </ng-container>
                                    </ng-template>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-9">
                    <div class="sidebar_switch style text-right dn-991">
                        <div id="main">
                            <span id="open" class="flaticon-filter-results-button showFilter sidebarClosed filteropen">
                                Show Filter</span>
                        </div>
                    </div>
                    <div class="half_map_area version4">
                        <div class="home_two_map style2">
                            <div class="map-canvas skin2 half_style" id="contact-google-map" data-map-lat="51.510280"
                                data-map-lng="-0.084028" data-icon-path="assets/imageslogo/1.png"
                                data-map-title="Awesome Place" data-map-zoom="14">
                                <agm-map [latitude]="myLatLng.lat" [longitude]="myLatLng.lng"
                                    style="height: 800px !important" [disableDefaultUI]="false" [zoom]="zoom"
                                    [minZoom]="2" [zoomControl]="false">
                                    <ng-container *ngFor="let item of rows">
                                        <agm-marker [latitude]="item.lat" [longitude]="item.lng" [animation]="'DROP'"
                                            [markerDraggable]="false" [iconUrl]="iconObject">
                                            <!-- <agm-marker [latitude]="item.lat" [longitude]="item.lng" [animation]="'DROP'"
                                            [markerDraggable]="false"  [iconUrl]="iconObject"> -->

                                            <agm-info-window>
                                                <div class="card">

                                                    <a routerLink="/pages/property/{{item?.id}}"
                                                        class="text-success d_name cursor-pointer">{{item.name}}
                                                    </a>
                                                    <br>
                                                    <p class="title">{{item?.address}}</p>
                                                </div>
                                            </agm-info-window>
                                        </agm-marker>
                                    </ng-container>



                                </agm-map>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>